---
class: note
area: professional
tags:
  - ai
created: 2025-12-12
---
**MOC: [[MOC - Professional]]**

# Разработка ETL pipeline для бота помощника в ИТП

> [!tldr] ai review
> 

## Описание

Проект: Pyrus
Команда проекта:
1. группа сопровождения инфраструктуры и технической поддержки пользователей - sre-инженеры, сотрудники поддержки
2. группа автоматизации бизнес-процессов - аналитики
Описание проекта: Low-code платформа Pyrus для автоматизации бизнес-процессов.

Группа сопровождения инфраструктуры и технической поддержки пользователей обращения пользователей в системе Pyrus по вопросам работы с Pyrus, помогает выстраивать интеграции, следит за надежной работой, устраняет и предотвращает сбои.

Как сейчас выстроен процесс:
Пользователь создает обращение (в контексте Pyrus обращение = задача, шаблон = форма) по определенному шаблону, где указывает с чем у него возникли трудности, описывает проблему. Созданная задача, согласно правил маршрутизации формы попадает на обработку сотрудникам поддержки. Сотрудник поддержки изучает описание проблемы. При изучении проблемы сотрудник поддержки может воспользоваться накопленной информацией на confluence, в ранее отработанных тикетах, запросить помощь у key account manager Pyrus, аналитиков. Информация зачастую располагается в разных местах, что влечет увеличение времени ответа пользователю и снижение качества поддержки. Сотрудник поддержки отвечает пользователю в созданном тикете, если проблема решена, то пользователь утверждает тикет и он закрывается.

Что нужно сделать:
1. Создать бота-помощника в Pyrus с AI, которые будет при поступлении новой задачи искать информацию в базе знаний и подготавливать рекомендации сотруднику, ответ пользователю и отправлять их через api в тикет.
2. Создать etl-pipeline для актуализации информации в базе знаний.

Что можно использовать для реализации задач:
1. Стек технологий:
	1. n8n - есть, готово к использованию
	2. python - есть, готово к использованию
	3. docker - есть, готово к использованию
	4. linux - есть, готово к использованию
	5. postgresql - есть, готово к использованию
	6. rag - есть, готово к использованию, есть доступ к api
	7. pyrus - есть, готово к использованию, есть доступ к api
	8. confluence - есть, готово к использованию
	9. ai, развернутый в корпоративном контуре - есть, готово к использованию, есть доступ к api
	10. корпоративный мессенджер - есть, готово к использованию, есть доступ к api
	11. корпоративный сервис печати для генерации pdf - есть, готово к использованию, есть доступ к api
	12. kubernetes

Требования:
1. нужна категоризация тикетов для дальнейшего подсчета полезного эффекта от внедрения ai-помощника
2. база знаний должна хранится в rag
3. в rag не должно быть персональных данных
4. в etl можно использовать все пункты из стека технологий
5. количество обращений в сутки - не более 50
6. обновление rag - ежедневно
7. если ответ бота-помощника не корректен, то нужно продумать процесс обновления информации в rag по данному вопросу, чтобы в будущем бот мог ответить правильно
8. бот должен реагировать на новый созданный тикет либо на прямое упоминание бота в комментарии к тикету. при прямом упоминании в тикете бот должен получить всю информацию из задачи и дополнительно все комментарии, за исключением комментариев от других ботов, и с этой информацией снова запросить в rag поиск ответов.

Один из вариантов использования, ПРИМЕР:
обработка нового тикета
пользователь создал задачу
бот-помощник получил web-hook по новой задаче, запросил информацию в rag, подготовил ответ и отправил его в тикет
сотрудник поддержки проверил корректность ответа и либо подтвердил его либо скорректировал
пользователь утвердил тикет

добавление новой информации или актуализация в rag:
сотрудник поддержки создал задачу в Pyrus по определенной форме, например "Актуализация rag". Бот-помощник получил информацию из задачи и отправил ее через api в rag.

Текущая задача - только составить план разработки, предложить к использованию технологии, составить схемы процессов и так далее. Если для выполнения требуется дополнительная информация - запроси, есть доступ ко всей нужной, любой информации.

[[Ответ claude - первая итерация]]

### Additional materials